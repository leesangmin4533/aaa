[utils.db_util][db][ERROR] Database error while checking 7-day data: no such table: mid_sales
Traceback (most recent call last):
  File "C:\Users\kanur\OneDrive\문서\GitHub\aaa\utils\db_util.py", line 199, in is_7days_data_available
    cur.execute("SELECT DISTINCT SUBSTR(collected_at, 1, 10) FROM mid_sales ORDER BY SUBSTR(collected_at, 1, 10) DESC")
sqlite3.OperationalError: no such table: mid_sales
igation][DEBUG] Waiting for mix ratio page grid with selector: div[id*='gdList.body'][id*='cell_'][id$='_0:text']
[__main__][navigation][DEBUG] Mix ratio page grid found.
[__main__][navigation][INFO] Successfully navigated to sales page.
[__main__][collect][INFO] Starting data collection scripts.
[__main__][run_script][DEBUG] Checking script existence: c:\Users\kanur\OneDrive\문서\GitHub\aaa\scripts\auto_collect_mid_products.js
[__main__][run_script][DEBUG] Checking script existence: c:\Users\kanur\OneDrive\문서\GitHub\aaa\scripts\data_collect_listener.js
[__main__][mid_category][INFO] mid_category logs: ['collectMidCodes 시작', '🔄 중분류 목록 스캔 시작 (새로운 스크롤 주기)', 'Found 22 mid-category cells in current view.', '[collectMidCodes] Examining mid-category cell: 001', '[collectMidCodes] Identified mid-category: 001 at row index: 0', 'Attempting to click mid-category: 001 with ID: mainframe.HFrameSet00.VFrameSet00.FrameSet.STMB011_M0.form.div_workForm.form.div2.form.gdList.body.gridrow_0.cell_0_0', '*********** 트랜잭션 호출 전 svcID : searchDetail (strServiceUrl :svc::stmb011/selDetailSearch) (20250721212447)', '*********** 트랜잭션 호출 전 httptimeout : 60', 'Successfully clicked mid-category: 001.', '[getMidName] Attempting to get mid-category name for row: 0', '[getMidName] Successfully retrieved name: 도시락', '중분류 클릭: 001 (도시락) - Processed 1 in this cycle.']
[__main__][collect][INFO] Using liveData as fallback for parsedData.
[__main__][collect][INFO] Data collection complete.
[__main__][7day_collection][INFO] 7일치 데이터베이스 기록이 없어 과거 데이터 수집을 시작합니다.
[__main__][7day_collection][INFO] WebDriver script and command executor timeouts set to 3600 seconds for 7-day collection.
[__main__][7day_collection][INFO] 과거 데이터 수집 스크립트 실행 시도: c:\Users\kanur\OneDrive\문서\GitHub\aaa\scripts\auto_collect_past_7days.js
[__main__][run_script][DEBUG] Checking script existence: c:\Users\kanur\OneDrive\문서\GitHub\aaa\scripts\auto_collect_past_7days.js
[__main__][7day_collection][INFO] 'auto_collect_past_7days.js' 스크립트 실행 완료.
[__main__][7day_collection][INFO] -------------------- 과거 데이터 수집 중: 20250720 --------------------
[__main__][7day_collection][DEBUG] 과거 데이터 수집 결과 (20250720): {'message': 'Error during single day collection for 20250720: waitForElement is not defined', 'success': False}
[__main__][7day_collection][ERROR] 20250720에 대한 과거 데이터 수집에 실패했습니다: Error during single day collection for 20250720: waitForElement is not defined
[__main__][7day_collection][CRITICAL] 20250720 과거 데이터 수집 중 심각한 오류 발생: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
Traceback (most recent call last):
  File "c:\Users\kanur\OneDrive\문서\GitHub\aaa\main.py", line 364, in _run_collection_cycle
    raise RuntimeError(f"과거 데이터 수집 스크립트 '{script_name}' 실행 실패: {msg}")
RuntimeError: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
[__main__][7day_collection][CRITICAL] 과거 데이터 수집 중 심각한 오류 발생: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
Traceback (most recent call last):
  File "c:\Users\kanur\OneDrive\문서\GitHub\aaa\main.py", line 364, in _run_collection_cycle
    raise RuntimeError(f"과거 데이터 수집 스크립트 '{script_name}' 실행 실패: {msg}")
RuntimeError: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
[__main__][7day_collection][INFO] WebDriver script and command executor timeouts reverted to 300 seconds.
[__main__][main][CRITICAL] Critical error during collection cycle: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
Traceback (most recent call last):
  File "c:\Users\kanur\OneDrive\문서\GitHub\aaa\main.py", line 364, in _run_collection_cycle
    raise RuntimeError(f"과거 데이터 수집 스크립트 '{script_name}' 실행 실패: {msg}")
RuntimeError: 과거 데이터 수집 스크립트 'auto_collect_past_7days.js' 실행 실패: Error during single day collection for 20250720: waitForElement is not defined
[__main__][main][INFO] Closing Chrome driver.
[__main__][main][INFO] _run_collection_cycle finished.
[__main__][main][INFO] Single data collection cycle finished.
